---
title: "Claude Code v2.1.45 リリース: Claude Sonnet 4.6 対応とカスタマイズ機能の強化"
date: 2026-02-23
source: changelog
source_url: "https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md"
identifier: "2.1.45"
---

# Claude Code v2.1.45 リリース: Claude Sonnet 4.6 対応とカスタマイズ機能の強化

## 概要

Claude Code v2.1.45 では、新モデル **Claude Sonnet 4.6** へのサポートが追加され、プラグインや UI のカスタマイズ機能が拡充されました。また、エージェントチーム機能や macOS サンドボックス環境に関する複数のバグ修正も含まれています。Max プランにおけるモデル構成の整理も行われており、Sonnet 4.6 の 1M コンテキストに統合されています。

## 変更点の詳細

### 新機能・機能追加

#### Claude Sonnet 4.6 サポート

最新モデルである **Claude Sonnet 4.6** への対応が追加されました。従来の Sonnet 4.5（1M コンテキスト）は Max プランから削除され、Sonnet 4.6 の 1M コンテキストへと統合されています。これにより、Max プランのユーザーは最新モデルの性能を活用しながら大きなコンテキストウィンドウを利用できるようになります。

#### プラグイン設定ファイルのサポート

プラグインが `settings.json` をデフォルト設定として同梱できるようになりました。これにより、プラグイン開発者はユーザーのセットアップを簡略化するための初期設定を事前に定義できます。プラグインの配布・導入がよりスムーズになることが期待されます。

#### カスタマイズ可能なスピナーヒント

`spinnerTipsOverride` という新しい設定項目が追加されました。この設定を使うと、Claude Code が処理中に表示するヒント文字列を独自のものに変更できます。

```json
{
  "spinnerTipsOverride": {
    "tips": ["カスタムヒント1", "カスタムヒント2"],
    "excludeDefault": true
  }
}
```

`excludeDefault: true` を指定すると組み込みのヒントを非表示にし、完全に独自のヒントのみを表示できます。チームやプロジェクト固有のメッセージを表示したい場合などに活用できます。

### バグ修正

#### エージェントチームでの API プロバイダー環境変数の伝播問題

エージェントチーム機能（複数のサブエージェントが協調して動作するモード）において、**Bedrock・Vertex・Foundry** を利用している場合に API プロバイダーの環境変数が tmux プロセスへ正しく引き継がれない問題が修正されました。この不具合により、サブエージェントが適切な認証情報を持てずにエラーになるケースがありましたが、本バージョンで解消されています。

#### macOS サンドボックス環境での一時ファイル書き込みエラー

macOS のサンドボックス環境下で一時ファイルを書き込む際に「操作が許可されていません（Operation not permitted）」エラーが発生する問題が修正されました。サンドボックス制約の厳しい環境でも安定して動作するようになっています。

#### Task ツール（バックグラウンドエージェント）の完了時クラッシュ

Task ツールを通じてバックグラウンドで実行されるエージェントが、処理完了時に `ReferenceError` でクラッシュする問題が修正されました。長時間実行するエージェントを利用している場合に影響を受けていた不具合です。

#### ペースト画像がある場合の Enter キー動作

入力欄に画像を貼り付けた状態で Enter キーを押すと、入力候補が確定されてしまう（送信されない）問題が修正されました。画像を含むメッセージを送信する際のユーザー体験が改善されています。

## 技術的なポイント

- **モデルの統合**: Sonnet 4.5 + 1M コンテキストは廃止され、Sonnet 4.6 + 1M コンテキストに一本化。モデル選択がシンプルになった
- **プラグインエコシステムの成熟**: `settings.json` のデフォルト設定同梱により、プラグインのゼロコンフィグ配布が可能になった
- **`spinnerTipsOverride` の活用**: 企業・チーム向けの Claude Code カスタマイズや、ブランディング要件がある環境への対応が容易になった
- **マルチプロバイダー対応の安定化**: Bedrock・Vertex・Foundry 利用時のエージェントチーム機能が信頼性向上。エンタープライズ環境での利用がより安定する
- **サンドボックス互換性**: macOS のセキュリティ制約が厳しい環境（企業マネージドデバイスなど）での動作品質が向上

## まとめ

v2.1.45 は Claude Sonnet 4.6 への対応という大きな機能追加に加え、プラグインの利便性向上や UI カスタマイズの拡張が含まれる充実したリリースです。特にエージェントチーム機能のバグ修正は、Bedrock・Vertex・Foundry などの企業向けプロバイダーを利用しているチームに直接恩恵をもたらします。

Sonnet 4.6 の統合により、Max プランのユーザーはより高性能なモデルと大きなコンテキストウィンドウを継続して活用できます。`spinnerTipsOverride` のようなカスタマイズ設定の追加からも、Claude Code がエンタープライズや多様なチーム環境への適応を着実に進めていることが伺えます。
