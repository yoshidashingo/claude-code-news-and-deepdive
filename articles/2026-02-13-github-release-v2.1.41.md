---
title: "Claude Code v2.1.41 - 認証サブコマンドの追加と重要なバグ修正"
date: 2026-02-13
source: github-release
source_url: "https://github.com/anthropics/claude-code/releases/tag/v2.1.41"
identifier: "v2.1.41"
---

# Claude Code v2.1.41 - 認証サブコマンドの追加と重要なバグ修正

## 概要

Claude Code v2.1.41 がリリースされました。このバージョンでは、新しい CLI 認証サブコマンドの追加、Windows ARM64 のネイティブサポート、そして AWS 認証のタイムアウト問題をはじめとする多数の重要なバグ修正が含まれています。特に、ファイル読み取りやセッション管理に関する改善により、開発体験がより安定したものになります。

## 新機能

### CLI 認証サブコマンド

今回のリリースで、認証管理がより直感的になりました。以下の3つの新しいサブコマンドが追加されています。

- `claude auth login` - Claude Code へのログインを実行
- `claude auth status` - 現在の認証状態を確認
- `claude auth logout` - ログアウトを実行

これらのコマンドにより、認証の管理が標準的な CLI ツールのワークフローに統合され、シェルスクリプトや自動化タスクでの利用も容易になります。

```bash
# 認証状態を確認
claude auth status

# ログインが必要な場合
claude auth login

# セッション終了時
claude auth logout
```

### Windows ARM64 ネイティブサポート

Windows ARM64 (win32-arm64) 向けのネイティブバイナリがサポートされました。これにより、ARM ベースの Windows デバイス(例: Surface Pro X や Snapdragon 搭載 PC)でも、エミュレーションなしでネイティブパフォーマンスを享受できます。

## 改善点

### `/rename` コマンドの強化

`/rename` コマンドが引数なしで呼び出された場合、会話のコンテキストから自動的にセッション名を生成するようになりました。これにより、手動で名前を考える手間が省け、会話の内容に基づいた適切な名前が自動的に付与されます。

```bash
# 引数なしで呼び出すと、コンテキストから自動生成
/rename

# 従来通り、明示的に指定することも可能
/rename "新しいプロジェクトのセットアップ"
```

### UI/UX の改善

狭い端末環境でのプロンプトフッターのレイアウトが改善されました。小さな画面や分割されたターミナルウィンドウでも、より見やすく操作しやすいインターフェースが提供されます。

## バグ修正

### AWS 認証の無限ハング問題の解決

AWS 認証のリフレッシュが無期限にハングする問題が修正されました。3分間のタイムアウトが追加されたことで、認証の更新が失敗した際も適切にエラーハンドリングされ、プロセスが停止することがなくなります。

### ファイル解決の問題

`@` メンションでアンカーフラグメントを含むファイル(例: `@README.md#installation`)を参照した際にファイル解決が失敗する問題が修正されました。これにより、ドキュメントの特定セクションを正確に参照できるようになります。

### FileReadTool のブロッキング問題

FileReadTool が FIFO (名前付きパイプ)、`/dev/stdin`、大容量ファイルに対してプロセスをブロックする問題が修正されました。これは特に、パイプからの入力を処理する場合や、ストリーミングデータを扱う際に重要な修正です。

### Agent SDK 関連の修正

ストリーミング Agent SDK モードでバックグラウンドタスク通知が配信されない問題が修正されました。これにより、非同期処理の完了通知が正しく受け取れるようになり、より信頼性の高いエージェント開発が可能になります。

### UI バグの修正

以下の細かな UI バグが修正されました:

- classifier ルール入力でキーストロークごとにカーソルが末尾にジャンプする問題
- Markdown リンクで、生 URL の表示テキストがドロップされる問題
- サブエージェントの経過時間表示にパーミッション待機時間が含まれていた問題
- plan モード中にプロアクティブティックが発火する問題
- 設定ファイルが変更された際に古いパーミッションルールがクリアされない問題
- フックブロッキングエラーで UI に stderr の内容が表示される問題
- auto-compact 失敗時のエラー通知が表示される問題

## 技術的なポイント

- **認証管理の標準化**: 新しい `auth` サブコマンドにより、認証フローが標準的な CLI パターンに従い、自動化やスクリプト化が容易になりました
- **クロスプラットフォーム対応の拡充**: Windows ARM64 サポートにより、より多様なハードウェア環境での利用が可能になりました
- **タイムアウト戦略**: AWS 認証に3分のタイムアウトを設定することで、ネットワーク問題や認証サービスの障害時の耐障害性が向上しました
- **ファイルハンドリングの堅牢性**: FIFO や stdin からの読み取りに対応したことで、Unix パイプラインとの統合がスムーズになりました
- **パフォーマンス計測の正確性**: パーミッション待機時間を除外することで、実際のエージェント処理時間がより正確に測定できるようになりました
- **アンカーフラグメント対応**: ドキュメント内の特定セクションへの参照が可能になり、より細かい粒度でのコンテキスト共有が実現しました

## まとめ

Claude Code v2.1.41 は、新機能の追加とともに、開発者体験を向上させる多数のバグ修正が行われた重要なリリースです。特に、認証管理の標準化、ファイルハンドリングの堅牢性向上、そして AWS 認証の安定性改善は、日常的な開発ワークフローにおいて実感できる改善となるでしょう。

Windows ARM64 サポートの追加により、ARM ベースのデバイスユーザーもネイティブパフォーマンスを享受できるようになり、Claude Code のプラットフォームカバレッジがさらに広がりました。また、`/rename` コマンドの自動生成機能は、セッション管理の手間を減らす便利な機能です。

今回の多数の UI バグ修正により、より洗練されたユーザー体験が提供されており、Claude Code の成熟度がさらに高まっています。
